\documentclass{beamer}
\usepackage[utf8]{inputenc}
\usepackage{babel}
\usepackage{xcolor}
\usetheme{Darmstadt}

\newcommand{\pipe}{\ |\ }

\newcommand{\Fun}[2]{#1 \to #2}
\newcommand{\Prod}[2]{#1 \times #2}
\newcommand{\Sum}[2]{#1 + #2}
\newcommand{\Unit}{\textbf{1}}
\newcommand{\Empty}{\textbf{0}}

\newcommand{\annot}[2]{(#1 : #2)}
\newcommand{\fun}[2]{\lambda #1. #2}
\newcommand{\app}[2]{#1\ #2}
\newcommand{\pair}[2]{(#1, #2)}
\newcommand{\outl}[1][]{\texttt{outl}\ #1}
\newcommand{\outr}[1][]{\texttt{outr}\ #1}
\newcommand{\inl}[1][]{\texttt{inl}\ #1}
\newcommand{\inr}[1][]{\texttt{inr}\ #1}
\newcommand{\case}[3]{\texttt{case}\ #1\ \texttt{of}\ (#2, #3)}
\newcommand{\unit}{\texttt{unit}}
\newcommand{\elimEmpty}[1][]{\texttt{exfalso}\ #1}

\newcommand{\True}{\top}
\newcommand{\False}{\bot}
\newcommand{\Not}[1]{\neg #1}
\newcommand{\Or}[2]{#1 \lor #2}
\renewcommand{\And}[2]{#1 \land #2}
\newcommand{\Impl}[2]{#1 \Rightarrow #2}
\newcommand{\Iff}[2]{#1 \Leftrightarrow #2}

\newcommand{\All}[3]{\forall #1 : #2. #3}
\newcommand{\Ex}[3]{\exists #1 : #2. #3}

\newcommand{\Eq}[3][]{#2 =_{#1} #3}

\newcommand{\subst}[3]{#1\left[#2 := #3\right]}

\newcommand{\tyctx}[1]{\mathcolor{brown}{#1\ \texttt{ctx}}}

\newcommand{\fulltyping}[3]{#1 \vdash #2 : #3}
\newcommand{\typing}[2]{\fulltyping{\Gamma}{#1}{#2}}

\newcommand{\infrule}[3][]{\displaystyle \frac{#2}{#3} \textsc{\footnotesize{#1}}}

\newcommand{\emptytypingctx}{\cdot}
\newcommand{\extend}[3]{#1, #2 : #3}
\newcommand{\extenddef}[4]{#1, #2 : #3 := #4}

\newcommand{\sidecond}[1]{#1}

\title{STLC}

\begin{document}

\begin{frame}{Grammar}

Types: \\
$A, B ::= \Fun{A}{B} \pipe \Prod{A}{B} \pipe \Sum{A}{B} \pipe \Unit \pipe \Empty$

\vspace{2em}

Typing contexts: \\
$\Gamma ::= \emptytypingctx \pipe \extend{\Gamma}{x}{A}$

\vspace{2em}

Terms: \\
$e ::=$ \\
\qquad $x \pipe \annot{e}{A} \pipe$ \\
\qquad $\fun{x}{e} \pipe \app{e_1}{e_2} \pipe$ \\
\qquad $\pair{e_1}{e_2} \pipe \outl[e] \pipe \outr[e] \pipe$ \\
\qquad $\inl[e] \pipe \inr[e] \pipe \case{e}{e_1}{e_2} \pipe$ \\
\qquad $\unit \pipe \elimEmpty{e}$

\vspace{2em}

\end{frame}

\section{Declarative STLC}

\begin{frame}{Declarative typing basics}

\begin{center}
  $\infrule[Var]{\sidecond{(x : A) \in \Gamma}}{\typing{x}{A}}$

  \vspace{2em}

  $\infrule[Annot]{\typing{e}{A}}{\typing{\annot{e}{A}}{A}}$
\end{center}

\end{frame}

\begin{frame}{Declarative typing -- type-directed rules}

\begin{center}
  $\infrule{\fulltyping{\extend{\Gamma}{x}{A}}{e}{B}}{\typing{\fun{x}{e}}{\Fun{A}{B}}}$ \quad
  $\infrule{\typing{f}{\Fun{A}{B}} \quad \typing{a}{A}}{\typing{\app{f}{a}}{B}}$

  \vspace{2em}

  $\infrule{\typing{a}{A} \quad \typing{b}{B}}{\typing{\pair{a}{b}}{\Prod{A}{B}}}$ \quad
  $\infrule{\typing{e}{\Prod{A}{B}}}{\typing{\outl[e]}{A}}$ \quad
  $\infrule{\typing{e}{\Prod{A}{B}}}{\typing{\outr[e]}{B}}$

  \vspace{2em}

  $\infrule{\typing{e}{A}}{\typing{\inl[e]}{\Sum{A}{B}}}$ \quad
  $\infrule{\typing{e}{B}}{\typing{\inr[e]}{\Sum{A}{B}}}$

  \vspace{2em}

  $\infrule{\typing{e}{\Sum{A}{B}} \quad \typing{f}{\Fun{A}{C}} \quad \typing{g}{\Fun{B}{C}}}{\typing{\case{e}{f}{g}}{C}}$

  \vspace{2em}

  $\infrule{}{\typing{\unit}{\Unit}}$ \quad
  $\infrule{\typing{e}{\Empty}}{\typing{\elimEmpty[e]}{A}}$
\end{center}

\end{frame}

\end{document}